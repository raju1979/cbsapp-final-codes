<ion-header>
  <ion-navbar color="appblue" [hideBackButton]="testRunning">
    <ion-title align="center">IMAGE BASED QUESTIONS</ion-title>
    <ion-buttons end>
      <span class="timerText">{{secondsRemaining | formattime}}</span>
      <!--<button ion-button icon-only color="light" (click)="showStats()" *ngIf="!testRunning">
                <ion-icon name="grid"></ion-icon>
            </button>-->
    </ion-buttons>
  </ion-navbar>
</ion-header>
<ion-content>
  <div class="questionsPageBlock">
    <div class="questionBlock">
      <div class="questionNumRow">
        <p padding-left>Questions {{currentQuestion+1}} of {{questionSetChosen.length}}</p>
        <p padding-right>Level {{currentLevel+1}} of 2</p>
      </div>
      
      <div class="questionText">
        <h4 [innerHTML]="questionSetChosen[currentQuestion]?.questiondata.question"></h4>
        <img [src]="getQuestionImage(questionSetChosen[currentQuestion]?.questiondata.questionImgUrl)" alt="" *ngIf="questionSetChosen[currentQuestion]?.questiondata.questionImgUrl != 'NA' "
        />
      </div>
      <div class="answersList">
        <p class="answersListItem" *ngFor="let option of questionSetChosen[currentQuestion]?.optiondata.options, let optionIndex = index"
          (click)="checkAnswer(currentQuestion,optionIndex)">
          <span class="ionIcon"><ion-icon name="radio-button-on" [color]="'grey2'"></ion-icon></span>
          <span class="optiontext" [class]="getOptionColor(selectedIndex,questionSetChosen[currentQuestion]?.rightanswerdata.rightanswer[0].order,optionIndex)">{{option.optiontext}}</span>
          </p>
      </div>
      <!--<div class="explainBtnContainer">
                <button ion-button icon-left large color="appblue" (click)="showExplanation()">
                    <span [ngSwitch]="shouldShowExplanation">
                        <ion-icon name="add-circle" *ngSwitchCase=false></ion-icon>
                        <ion-icon name="remove-circle" *ngSwitchCase=true></ion-icon>
                    </span>
                    <span>Explanation</span>
                </button>
                <div class="totalAnswersText">Correct {{totalCorrectAnswers}}</div>
            </div>
            <div id="questionExplaitonContainer" *ngIf="shouldShowExplanation" [@fadeInOut]="shouldShowExplanation">
                <p>Currect Answer : <span>{{questionSetChosen[currentQuestion]?.rightanswerdata.rightanswer[0].answer}}</span></p>
                <p>Explaination : <span [innerHTML]="questionSetChosen[currentQuestion]?.questiondata.explanation"></span></p>
            </div>-->
    </div>
  </div>
  <ion-fab right bottom #fab *ngIf="!testRunning" [@enterAnimation]="testRunning">
    <button ion-fab color="appblue"><ion-icon name="arrow-dropleft"></ion-icon></button>
    <ion-fab-list side="left">
      <button ion-fab color="primary" (click)="showStats(fab)" [disabled]="testRunning"><ion-icon name="grid"></ion-icon></button>
      <button ion-fab color="danger"  (click)="submitCurrentLevelTest(fab)"><ion-icon name="done-all"></ion-icon></button>
    </ion-fab-list>
  </ion-fab>
</ion-content>
<ion-footer align="center" color="appblue">
  <!--<ion-toolbar color="light">
        <ion-buttons>
            <button ion-button icon-only>
                <ion-icon name="pause" color="appblue"></ion-icon>
            </button> 
             <button ion-button icon-only>
                 
            </button> 
            <button ion-button icon-only>
                <ion-icon name="log-out" color="appblue"></ion-icon>
            </button>
        </ion-buttons>
    </ion-toolbar>-->
  <ion-toolbar color="appblue">
    <ion-buttons start>
      <button ion-button  (click)="prevQuestion()" [disabled]="!testRunning">
          <ion-icon name="arrow-back"></ion-icon>
          <span class="opaqueText">PREVIOUS</span>
      </button>
    </ion-buttons>
    <button ion-button large clear (click)="pauseTest()" color="light">
            <span [ngSwitch]="testRunning">
                <span *ngSwitchCase="true">PAUSE</span>
                <span *ngSwitchCase="false">START</span>
            </span>
        </button>
    <ion-buttons end>
      <button ion-button (click)="nextQuestion()" [disabled]="!testRunning">                
          <span class="opaqueText">NEXT....</span>
          <ion-icon name="arrow-forward"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>
